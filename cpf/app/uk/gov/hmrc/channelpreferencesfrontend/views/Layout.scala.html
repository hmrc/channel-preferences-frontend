@*
 * Copyright 2021 HM Revenue & Customs
 *
 *@

@import uk.gov.hmrc.channelpreferencesfrontend.config.AppConfig
@import uk.gov.hmrc.govukfrontend.views.Layouts
@import uk.gov.hmrc.hmrcfrontend.views.html.components.{Header, HmrcHeader}

@this(
    govukLayout: GovukLayout,
    govukBackLink: GovukBackLink,
    hmrcHeader: HmrcHeader,
    head: Head,
    hmrcStandardFooter: HmrcStandardFooter,
    languageSelect: LanguageSelect
)
@(pageTitle: Option[String] = None,
    headBlock: Option[Html] = None,
    scriptsBlock: Option[Html] = None
)(contentBlock: Html)(implicit request: Request[_], messages: Messages, appConfig: AppConfig)


@headerBlock = {
    @hmrcHeader(Header(signOutHref = Some("/")))
}

@beforeContentBlock = {
    @if(appConfig.languageTranslationEnabled) {
        @languageSelect()
    }
    <nav aria-label="back-link">
        @govukBackLink(BackLink(href = "javascript:history.back()", content = Text(Messages("back.button.text"))))
    </nav>
}

@govukLayout(
    pageTitle = pageTitle,
    headBlock = Some(head(headBlock)),
    headerBlock = Some(headerBlock),
    scriptsBlock = scriptsBlock,
    beforeContentBlock = Some(beforeContentBlock),
    footerBlock = Some(hmrcStandardFooter())
)(contentBlock)
