@(showBanner:Boolean,emailForm: Form[_], submitPrefsFormAction: Call)(implicit request: Request[_])

@import views.helpers.HeaderNav
@import uk.gov.hmrc.urls.Link
@import uk.gov.hmrc.play.views.html.helpers._

@gaScript = {
}

@main(title = Messages(s"sa_printing_preference.c_page.title"), headerNav = if (showBanner) Some(HeaderNav.yta) else None, headScripts = Some(gaScript)) {

<header class="page-header">
    <h1>@Messages(s"sa_printing_preference.c_page.heading")</h1>
</header>

<p>@Messages(s"sa_printing_preference.c_page.paragraph.1")</p>
<p>@Messages(s"sa_printing_preference.cde_page.paragraph.2")</p>
<ul class="bullets">
    <li>@Messages(s"sa_printing_preference.cdefg_page.paragraph.3")</li>
    <li>@Messages(s"sa_printing_preference.cdefg_page.paragraph.4")</li>
</ul>
@form(action = submitPrefsFormAction, 'id -> "form-submit-email-address") {
<h3>@Messages("sa_printing_preference.heading.3")</h3>

<label class="selectable">
    <input
        id="opt-in-in"
        type="radio"
        name="opt-in"
        value="true"
        class="email-prefs__toggle"
        checked="checked"
    />
    @Messages(s"sa_printing_preference.cde_page.option.yes")
</label>
<fieldset class="connected">
    @input(
    emailForm("email.main"),
    '_label -> "Email address",
    '_labelClass -> "bold",
    '_labelHighlight -> true,
    '_divClass -> "row",
    '_inputClass -> "input--medium input--cleared",
    'parentField -> emailForm("email")
    )

    @input(
    emailForm("email.confirm"),
    '_label -> "Confirm email address",
    '_labelClass -> "bold",
    '_labelHighlight -> true,
    '_divClass -> "row",
    '_inputClass -> "input--medium input--cleared"
    )
    <p>@Html(Messages(s"sa_printing_preference.tc",
        Link.toExternalPage(url = "https://online.hmrc.gov.uk/information/terms#secure", value = Some(Messages("sa_printing_preference.tc.linkText"))).toHtml))</p>
    <p class="form-hint">@Messages(s"sa_printing_preference.legal")</p>
</fieldset>
<label class="selectable">
    <input
           id="opt-in-out"
           type="radio"
           name="opt-in"
           value="false"
           class="email-prefs__toggle"
           @if(emailForm("opt-in").value == Some("false")) { checked="checked" }
           />
    @Messages(s"sa_printing_preference.cde_page.option.no")
</label>
<div class="email-form-errors">
    @emailForm("opt-in").errors.map { error => <label class="error-notification">@Messages(error.message)</label>}
    @emailForm.globalErrors.map { error => <label class="error-notification">@Messages(error.message)</label>}
</div>
<br>
<div class="form-field">
    <button id="submitEmailButton" class="button" name="submitButton" type="submit">@Messages("sa_printing_preference.submitButton")</button>
</div>

}

}
