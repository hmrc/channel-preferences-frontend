@(showBanner:Boolean,emailForm: Form[_], submitPrefsFormAction: Call)(implicit request: Request[_])

@import uk.gov.hmrc.urls.Link
@import uk.gov.hmrc.play.views.html.helpers._

@gaScript = {
}

@main(title = Messages(s"sa_printing_preference.h_page.heading"), headerNav = if (showBanner) Some(views.html.YtaHeaderNav()) else None, headScripts = Some(gaScript)) {

    <header class="page-header">
        <h1>@Messages(s"sa_printing_preference.h_page.heading")</h1>
    </header>

    <p>@Messages(s"sa_printing_preference.h_page.paragraph.1")</p>
    <p>@Messages(s"sa_printing_preference.h_page.paragraph.2")</p>

    <h2>@Messages(s"sa_printing_preference.h_page.heading.2")</h2>
    <ul class="list--ticks">
        <li>@Messages(s"sa_printing_preference.h_page.reminders_list.1")</li>
        <li>@Messages(s"sa_printing_preference.h_page.reminders_list.2")</li>
        <li>@Messages(s"sa_printing_preference.h_page.reminders_list.3")</li>
    </ul>

    @form(action = submitPrefsFormAction, 'id -> "form-submit-email-address") {
        <h3>@Messages("sa_printing_preference.h_page.heading.3")</h3>

        <label class="selectable">
            <input
            id="opt-in-in"
            type="radio"
            name="opt-in"
            value="true"
            class="email-prefs__toggle"
            checked="checked"
            />
            @Messages(s"sa_printing_preference.cde_page.option.yes")
        </label>
        <fieldset class="connected">
            @input(
                emailForm("email.main"),
                '_label -> "Email address",
                '_labelClass -> "bold",
                '_labelHighlight -> true,
                '_divClass -> "row",
                '_inputClass -> "input--medium input--cleared",
                '_type -> "email",
                'parentField -> emailForm("email")
            )

            @input(
                emailForm("email.confirm"),
                '_label -> "Confirm email address",
                '_labelClass -> "bold",
                '_labelHighlight -> true,
                '_divClass -> "row",
                '_type -> "email",
                '_inputClass -> "input--medium input--cleared"
            )

            @singleCheckbox(
            emailForm("accept-tc"),
            '_label -> Html(Messages("sa_printing_preference.tc.preLinkText", Link.toExternalPage(id = Some("terms-and-conditions"), url =  controllers.sa.prefs.internal.routes.BizTaxPrefsController.termsAndConditions.url, value = Some(Messages("sa_printing_preference.tc.linkText"))).toHtml)),
            '_labelClass -> "label--inline"
            )

            <p class="form-hint">@Messages("sa_printing_preference.tc.legal.1")</p>
            <p class="form-hint">@Messages("sa_printing_preference.tc.legal.2")</p>
            <p class="form-hint">@Messages("sa_printing_preference.tc.legal.3")</p>
        </fieldset>
        <label class="selectable">
            <input
            id="opt-in-out"
            type="radio"
            name="opt-in"
            value="false"
            class="email-prefs__toggle"
                @if(emailForm("opt-in").value == Some("false")) { checked="checked" }
            />
            @Messages(s"sa_printing_preference.cde_page.option.no")
        </label>
        <div class="email-form-errors">
            @emailForm("opt-in").errors.map { error => <label class="error-notification">@Messages(error.message)</label>}
            @emailForm.globalErrors.map { error => <label class="error-notification">@Messages(error.message)</label>}
        </div>
        <br>
        <div class="form-field">
            <button id="submitEmailButton" class="button" name="submitButton" type="submit">@Messages("sa_printing_preference.submitButton")</button>
        </div>

    }

}
