@(emailAddress: Option[String],
  returnUrl: String,
  tandc: Form[_],
  appConfig: controllers.sa.prefs.config.AppConfig = controllers.sa.prefs.config.YtaConfig
)(implicit request: Request[_])

@import uk.gov.hmrc.play.views.html.helpers.form
@import uk.gov.hmrc.urls.Link
@import uk.gov.hmrc.play.views.html.helpers._
@import uk.gov.hmrc.play.views.html.{layouts => uiLayouts}

@betaBanner = {
    @uiLayouts.betaBanner(
      userLoggedIn = true,
      betaFeedbackUrl = appConfig.betaFeedbackUrl,
      betaFeedbackUnauthenticatedUrl = appConfig.betaFeedbackUnauthenticatedUrl,
      showFeedbackLinkInBetaBanner = true)
}

@main(title = "Get email notifications", navTitle = "", navLinks = HtmlFormat.empty, betaBanner = betaBanner) {

  <h1 class="email-notifications__heading">
    <span class="email-notifications__subheading-text">Before you check your Income Tax</span>
    <p class="email-notifications__heading-text push">Get email notifications</p>
  </h1>

  <p class="email-notifications__p font-medium">You can choose to get email notifications about your Income Tax.</p>

  <p class="email-notifications__list-heading font-small">Like the notifications you get for Self Assessment, they won't contain any personal or tax details and will we tell you if:</p>

  <ul class="email-notifications__list bullets push--bottom">
    <li class="font-small">your Income Tax estimate has changed</li>
    <li class="font-small">there's something you need to see or do</li>
  </ul>

  @emailAddress.map { emailAddress =>
    <p id="opted-in-email" class="font-small">We'll email notifications to @emailAddress.</p>
  }

  <div class="email-notifications__indent panel-indent">
      <p>You’ll be able to manage your message settings through 'Your tax account’.</p>
      <p>There won't be any messages or notifications about your Income tax in your online secure inbox.</p>
      <p>You'll still continue to receive paper copies of important documents.</p>
  </div>

  @form(action = controllers.sa.prefs.internal.routes.UpgradeRemindersController.upgrade(returnUrl)){

      <p><button id="confirm-upgrade" data-ignore-double-submit="true" class="disabledOnSubmit link" name="submitButton" type="submit" value="digital">Sign up for email notifications</button></p>

      <button id="cancel-upgrade" data-ignore-double-submit="true" class="link button--link-style" name="submitButton" type="submit" value="non-digital">No, I don't want to sign up for email notifications</button>
  }

}
