@*
 * Copyright 2020 HM Revenue & Customs
 *
 *@

@import controllers.auth.AuthenticatedRequest
@import uk.gov.hmrc.play.views.html.helpers._
@import views.sa.prefs.helpers.DateFormat.longDateFormat
@import controllers.internal.routes._

@this(externalUrlPrefixes: ExternalUrlPrefixes, digitalTrueLinks: digital_true_links, mainWithHeaders: views.html.main_with_headers)

@(emailPref: connectors.EmailPreference)(implicit request: AuthenticatedRequest[_], messages: Messages, hostContext: model.HostContext)

@changeEmailAddressLink = @{externalUrlPrefixes.pfUrlPrefix + controllers.internal.routes.ManagePaperlessController.displayChangeEmailAddress(None, hostContext).url}

@mainWithHeaders(title = Messages("manage.paperless.email.notification.header")) {

 <h1>@Messages("manage.paperless.email.delivery.failed.header", emailPref.email)</h1>

 <p>@Messages("manage.paperless.email.delivery.failed.para1")</p>

 <p><strong>@Messages("manage.paperless.email.delivery.failed.sub-header")</strong></p>

 <p>@Messages("manage.paperless.email.delivery.failed.para2") <a href="@changeEmailAddressLink">@Messages("manage.paperless.email.delivery.failed.change.email.link.text")</a>.</p>

 <br/>

 @form(action = ManagePaperlessController.checkSettings(hostContext)) {
  <button class="button" type="submit">@Messages("manage.paperless.email.delivery.failed.button")</button>
 }

}

