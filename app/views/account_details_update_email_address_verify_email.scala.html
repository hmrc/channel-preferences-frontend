@(emailAddress: String)(implicit context: Option[uk.gov.hmrc.play.frontend.auth.AuthContext], request : Request[_])

@import uk.gov.hmrc.urls.Link
@import controllers.sa.prefs.Encrypted
@import uk.gov.hmrc.emailaddress.EmailAddress
@import uk.gov.hmrc.play.views.html.helpers._

@main(title = "Manage account - Check your email address") {

    <header class="page-header">
        <h1>@Messages("bt.account.yourdetails")</h1>

        <h2 id="emailAddress">Check your email address</h2>
    </header>
    <p>Are you sure @emailAddress is correct?</p>


    @form(action = controllers.sa.prefs.internal.routes.AccountDetailsController.submitEmailAddress) {
        <div class="form-field">
            <p>
            <button id="emailIsCorrectLink" class="button" type="submit">This email address is correct</button>
            </p>
        </div>
        <input type="hidden" name="opt-in" value="true" />
        <input type="hidden" name="email.main" value="@emailAddress" />
        <input type="hidden" name="email.confirm" value="@emailAddress" />
        <input type="hidden" name="emailVerified" value="true" />
    }
    <p>@Link.toInternalPage(id = Some("emailIsNotCorrectLink"), url = controllers.sa.prefs.internal.routes.AccountDetailsController.changeEmailAddress(Some(Encrypted(EmailAddress(emailAddress)))).url, value = Some("Change this email address")).toHtml</p>
}