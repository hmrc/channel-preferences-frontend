@(emailAddress: String)(implicit user: uk.gov.hmrc.common.microservice.domain.User, request : Request[_])

@import views.helpers.Link
@import uk.gov.hmrc.crypto.Encrypted
@import uk.gov.hmrc.emailaddress.EmailAddress

@main(title = "Your Details - Check your email address is correct", headerNav = Some(views.helpers.HeaderNav.yta), userLoggedIn = true) {

    <header class="page-header">
        <h1>@Messages("bt.account.yourdetails")</h1>

        <h2 id="emailAddress">Check your email address</h2>
    </header>
    <p>Are you sure @emailAddress is correct?</p>


    @helpers.form(action = controllers.sa.prefs.internal.routes.AccountDetailsController.submitEmailAddress) {
        <div class="form-field">
            <p>
            <button id="emailIsCorrectLink" class="button" type="submit">This email address is correct</button>
            </p>
        </div>
        <input type="hidden" name="opt-in" value="true" />
        <input type="hidden" name="email.main" value="@emailAddress" />
        <input type="hidden" name="email.confirm" value="@emailAddress" />
        <input type="hidden" name="emailVerified" value="true" />
    }
    <p>@Link.toInternalPage(id = Some("emailIsNotCorrectLink"), url = controllers.sa.prefs.internal.routes.AccountDetailsController.changeEmailAddress(Some(Encrypted(EmailAddress(emailAddress)))).url, value = Some("Change this email address")).toHtml</p>
}