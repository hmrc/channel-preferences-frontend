@(feedbackForm: Form[controllers.common.support.FeedbackForm], user: Option[uk.gov.hmrc.common.microservice.domain.User])(implicit request : Request[_])
@import views.helpers._
@import controllers.common.support.FeedbackFormConfig._
@main(title = Messages("common.feedback.heading"), nav = user.isDefined, user = user) {
<header class="page-header">
    <h1>@Messages("common.feedback.heading")</h1>
</header>

    @defining(user.map{_ => common.support.routes.FeedbackController.submit}.getOrElse(common.support.routes.FeedbackController.submitUnauthenticated))  { call =>

        @helpers.form(action = call, 'id -> "feedback-form", 'class -> "form--feedback") {
            <fieldset>
                @helpers.inputRadioGroup(
                feedbackForm("feedback-rating"),
                feedbackRatings,
                '_label -> "What do you think of Tax Platform service?",
                '_divClass -> "form-field",
                '_labelClass -> "label--inlineRadio",
                '_inputClass -> "input--fullwidth"
                )
                @helpers.input(
                feedbackForm("feedback-name"),
                '_label -> "Name",
                '_divClass -> "form-field",
                '_inputClass -> "input--fullwidth"
                )
                @helpers.input(
                feedbackForm("feedback-email"),
                '_label -> "Email address",
                '_divClass -> "form-field",
                '_inputClass -> "input--fullwidth"
                )
                <p class="form-field">
                    Please don't include any personal or financial information, for example your National Insurance or credit card numbers.
                </p>
                @helpers.textArea(
                feedbackForm("feedback-comments"),
                '_label -> "Comments",
                '_divClass -> "form-field",
                '_inputClass -> "input--fullwidth",
                '_help -> "2000 characters max"
                )
                <input type="hidden" name="isJavascript" id="isJavascript" value="@feedbackForm.data.get("isJavascript")">
                <input type="hidden" name="referer" id="referer" value="@feedbackForm.data.get("referer")">

                <div class="form-field">
                    <button class="button" type="submit">Send</button>
                </div>

            </fieldset>
        }
    }

}