@(user: Option[uk.gov.hmrc.common.microservice.domain.User])
@defining(user.map{_ => common.support.routes.ProblemReportsController.report}.getOrElse(common.support.routes.ProblemReportsController.reportUnauthenticated))  { call =>

<div class="report-error">
    <a class="report-error__toggle" href="">Do you need assistance with this page?</a>
    <div class="report-error__content js-hidden">
        <p>
            @Messages("common.feedback.information.warning")
        </p>
        @helper.form(action = call, 'class -> "form--feedback") {
            <fieldset>
                <label for="report-name" class="form-field">
                    <strong>Name </strong>
                    <input id="report-name" maxlength="70" class="input--fullwidth" name="report-name" type="text"  data-rule-letterswithbasicpunc="true" data-rule-required="true" data-msg-required='@Messages("error.common.problem_report.name_mandatory")'>
                </label>
                <label for="report-email" class="form-field">
                    <strong>Email address</strong>
                    <input id="report-email" maxlength="320" class="input--fullwidth" name="report-email" type="text" data-rule-required="true" data-rule-email="true" data-msg-required='@Messages("error.common.problem_report.email_mandatory")'>
                </label>
                <label for="report-action" class="form-field">
                    <strong>@Messages("problem_report.action")</strong>
                    <input id="report-action" maxlength="1000" class="input--fullwidth" name="report-action" type="text" data-rule-required="true" data-msg-required='@Messages("error.common.problem_report.action_mandatory")'>
                </label>
                <label for="report-error" class="form-field">
                    <strong>@Messages("problem_report.error")</strong>
                    <input id="report-error" maxlength="1000" class="input--fullwidth" name="report-error"  type="text" data-rule-required="true" data-msg-required='@Messages("error.common.problem_report.error_mandatory")'>
                </label>
                <input type="hidden" name="isJavascript" value="false"/>
                <div class="form-field">
                    <button class="button" type="submit">Send</button>
                </div>
            </fieldset>
        }
    </div>
</div>

}