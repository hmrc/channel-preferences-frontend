@(carBenefit: Option[uk.gov.hmrc.common.microservice.paye.domain.Benefit], fuelBenefit: Option[uk.gov.hmrc.common.microservice.paye.domain.Benefit], employerName: Option[String], employerSequenceNumber: Int, currentTaxYear: Int)(implicit user: uk.gov.hmrc.common.microservice.domain.User)

@import views.formatting.Dates._
@import views.formatting.Strings._
@import views.formatting.Money._
@import config.RefData._

@main(title = "Your tax home", user = Some(user)) {


    <h1><span class="pre-heading">service</span> Tell HMRC about a change to your company car</h1>

    @if( carBenefit.isDefined ) {

	<p><span id="company-name">@optionalValue(employerName, "your.employer")</span> told us that they have provided you with a <span id="car-benefit-engine">@engineSizeFor(carBenefit.get.car.get.engineSize)</span> <span id="car-benefit-fuel-type">@fuelTypeFor(carBenefit.get.car.get.fuelType)</span> company car since <span id="car-benefit-date-available">@formatDate(carBenefit.get.car.get.dateCarMadeAvailable.get)</span>. It has a benefit value of <span id="car-benefit-amount">@pounds(carBenefit.get.grossAmount)</span>.
	    @if(fuelBenefit.isDefined) { You also receive a car fuel benefit worth <span id="fuel-benefit-amount">@pounds(fuelBenefit.get.grossAmount)</span>. }</p>
	<p>Would you like to tell HMRC that:</p>
	<ul>
	    <li><a id="rmCarLink" href="@controllers.paye.routes.RemoveBenefitController.benefitRemovalForm(carBenefit.get.benefitType.toString, carBenefit.get.taxYear, carBenefit.get.employmentSequenceNumber)">you no longer have this company car</a></li>
	    @if( fuelBenefit.isDefined ) {
		<li><a id="rmFuelLink" href="@controllers.paye.routes.RemoveBenefitController.benefitRemovalForm(fuelBenefit.get.benefitType.toString, fuelBenefit.get.taxYear, fuelBenefit.get.employmentSequenceNumber)">you need to change or remove the car fuel benefit</a></li>
	    }
	</ul>
    } else {
        <div id="no-car-benefit-container">
            <p>You do not have a company car.</p>
            <p>Would you like to tell HMRC that:</p>
            <ul>
                <li><a id="addCarLink" href="@controllers.paye.routes.CarBenefitAddController.startAddCarBenefit(currentTaxYear, employerSequenceNumber)">you would like to add a company car</a></li>
            </ul>
        </div>
    }

    <p>If your company car information is still correct, you can <a href="@common.routes.LoginController.logout">log out from your account</a>.</p>

}