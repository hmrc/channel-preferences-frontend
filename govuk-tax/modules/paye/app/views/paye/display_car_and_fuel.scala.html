@(carAndFuel: uk.gov.hmrc.common.microservice.paye.domain.CarAndFuel, employerNameString: String, idSuffix: Option[String] = None)

@import views.formatting.Dates._
@import views.formatting.Strings._
@import views.formatting.Money._

    @id(idString: String) = {@idSuffix.map(suffix =>s"$idString-$suffix").getOrElse(idString)}

<table>
    <thead>
        <tr>
            <th colspan="2" id="@id("company-name")">Company car provided by @employerNameString</th>
        </tr>
    </thead>
    <tbody>
        @carAndFuel.carBenefit.car.map { car =>
            @car.dateCarMadeAvailable.map { dateCarMadeAvailable =>
                <tr>
                    <td>Date you got the car</td>
                    <td id="@id("car-benefit-date-available")">@formatDate(dateCarMadeAvailable)</td>
                </tr>
            }
            @car.dateCarWithdrawn.map { dateWithdrawn =>
                <tr>
                    <td>Date you gave back the car</td>
                    <td id="@id("car-benefit-date-withdrawn")">@formatDate(dateWithdrawn)</td>
                </tr>
            }
            @car.dateCarRegistered.map { dateCarRegistered =>
            <tr>
                <td>Date Registered with DVLA</td>
                <td id="@id("car-benefit-date-registered")">@formatDate(dateCarRegistered)</td>
            </tr>
            }
            @car.carValue.map { carValue =>
                <tr>
                    <td>List Price including VAT & accessories</td>
                    <td id="@id("car-benefit-car-value")">@pounds(carValue)</td>
                </tr>
            }
            @car.employeeCapitalContribution.map { employeeCapitalContribution =>
            <tr>
                <td>Your contribution to the price of the car</td>
                <td id="@id("car-benefit-employee-capital-contribution")">@pounds(employeeCapitalContribution)</td>
            </tr>
            }
            @car.employeePayments.map { employeePayments =>
            <tr>
                <td>Your contribution to private use of the car</td>
                <td id="@id("car-benefit-employee-payments")">@pounds(employeePayments)</td>
            </tr>
            }
            <tr>
                <td>Fuel for private use</td>
                <td id="@id("private-fuel")">
                @carAndFuel.fuelBenefit.map { fuelBenefit =>
                    @fuelBenefit.dateWithdrawn.map { dateWithdrawn =>
                        @{Messages("paye.add_car_benefit.employer_pay_fuel.date", employerNameString) + " " + formatDate(fuelBenefit.dateWithdrawn, "")}
                    }.getOrElse {
                        @Messages("paye.add_car_benefit.employer_pay_fuel.true")
                    }
                }.getOrElse {
                    @Messages("paye.add_car_benefit.employer_pay_fuel.false")
                }
                </td>
            </tr>
            @car.fuelType.map { fuelType =>
                <tr>
                    <td>Fuel type</td>
                    <td id="@id("car-benefit-fuel-type")">@Messages(s"paye.add_car_benefit.fuel_type.$fuelType")</td>
                </tr>
            }
            @car.co2Emissions.map { co2Emissions =>
                <tr>
                    <td>CO2 Emissions</td>
                    <td>@co2Emissions g/km</td>
                </tr>
            }
            @car.engineSize.map { engineSize =>
                <tr>
                    <td>Engine capacity</td>
                    <td id="@id("car-benefit-engine")">@Messages(s"paye.add_car_benefit.engine_capacity.$engineSize")</td>
                </tr>
            }
        }

    </tbody>

</table>