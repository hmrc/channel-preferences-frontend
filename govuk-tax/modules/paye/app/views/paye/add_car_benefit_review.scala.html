@(data: uk.gov.hmrc.common.microservice.paye.domain.AddCarBenefitConfirmationData, currentTaxYearYearsRange: Range, user: uk.gov.hmrc.common.microservice.domain.User, currentUri: String, taxYear: Int, employmentSequenceNumber: Int)

@import views.formatting.Strings._
@import views.formatting.Money._
@import views.formatting.Dates._

@main(title = "Review your company car details", user = Some(user)) {
    <h1 id="main-heading"><span class="pre-heading">service</span> Tell HMRC about a change to your company car</h1>
    <h2>Check your company car details before submitting them</h2>
    @defining(optionalValue(data.employerName, "your.employer", false)) { employerNameString =>
        <table>
            <tbody>
            <tr><td>Date provided</td><td>@{formatDate(data.providedFrom)}</td></tr>
            <tr><td>List price including accessories</td><td>@pounds(data.listPrice)</td></tr>
            <tr><td>Fuel type</td><td>@{Messages(s"paye.add_car_benefit.fuel_type.${data.fuelType}")}</td></tr>
            @if(data.co2Figure.isDefined) {
             <tr><td>Emission figure</td><td>@data.co2Figure.get g/km</td></tr>
            }
            @if(data.engineCapacity.isDefined){
            <tr><td>Engine capacity</td> <td> @Messages(s"paye.add_car_benefit.engine_capacity.${data.engineCapacity.get}")</td></tr>
            }
            @if(data.employerPayFuel.isDefined){
            <tr>
                <td>Private fuel</td><td> @{Messages(s"paye.add_car_benefit.employer_pay_fuel.${data.employerPayFuel.get}", employerNameString) + " " + formatDate(data.dateFuelWithdrawn, "")}
            </td></tr>
            }
            </tbody>
        </table>

        @helpers.link("edit-data", currentUri, "This information is wrong")
    }

  @helper.form(action = controllers.paye.routes.AddCarBenefitController.confirmAddingBenefit(taxYear, employmentSequenceNumber)) {
    <div class="form-field">
        <input type="submit" class="button" value="submit">
    </div>
  }
}


