@(carBenefitForm: Form[controllers.paye.CarBenefitData], employerName: Option[String], taxYear: Int, employmentSequenceNumber: Int)

@import views.formatting.Strings._
@import controllers.paye.CarBenefitFormFields._
@import views.helpers.CustomHelpers._
@import helper._
@import views.helpers.RadioButton

@main(title = "Your Tax Home") {

<h1><span class="pre-heading">service</span> Tell HMRC about a change to your company car</h1>
<p>We need some information about the company car provided by <span id="company-name">@optionalValue(employerName, "your.employer")</span>.</p>

@helper.form(action = controllers.paye.routes.CarBenefitHomeController.saveAddCarBenefit(taxYear, employmentSequenceNumber)) {

<fieldset>
    <h2>How long you have had the new company car</h2>
    <ol class="list--numbered">
        <li>@helpers.dateFields(carBenefitForm, providedFrom, Messages("paye.add_car_benefit.question1", optionalValue(employerName, "your.employer")), (2012 to 2014))</li>
        <li>@helpers.radioGroup(carBenefitForm(qualifiedCarUnavailable),
                                Seq(RadioButton("false", "No", Some("form-field"), Some("label--inlineRadio-right")),
                                    RadioButton("true", "Yes: for ", Some("form-field--inline"), Some("label--inlineRadio-right"))),
                                '_label -> "Has the new company car been unavailable to you for at least 30 consecutive days since 6 April?",
                                '_error -> carBenefitForm.error(carUnavailable)
            )
            @helpers.input(carBenefitForm(qualifiedNumberOfDaysUnavailable),
                           '_divClass -> "form-field--inline",
                           '_label -> "days",
                           '_inputClass -> "input--xsmall",
                           '_labelClass -> "label--inlineRadio-right",
                           '_labelAfter -> true,
                           '_error -> carBenefitForm.error(numberOfDaysUnavailable))
        </li>
        <li>
            @helpers.radioGroup(carBenefitForm(qualifiedGiveBackThisTaxYear),
                                Seq(RadioButton("false", "No", Some("form-field"), Some("label--inlineRadio-right")),
                                    RadioButton("true", "Yes: on ", Some("form-field--inline"), Some("label--inlineRadio-right"))),
                                '_label -> "Will you give back your new company car before 5 April?",
                                '_error -> carBenefitForm.error(giveBackThisTaxYear)
            )
            @helpers.dateFields(carBenefitForm, qualifiedProvidedTo, "", (2012 to 2014),
                                '_error -> carBenefitForm.error(giveCarBack))
        </li>
    </ol>
</fieldset>
<fieldset>
    <h2>Cost of the car</h2>
    <ol class="list--numbered">
        <li>
            <p>What is the list price of the car including VAT and accessories?</p>
            @helpers.input(carBenefitForm(listPrice),
                           '_divClass -> "form-field--inline",
                           '_label -> "£",
                           '_inputClass -> "input--small",
                           '_labelClass -> "label--inlineRadio")
        </li>
        <li>@helpers.radioGroup(carBenefitForm(qualifiedEmployeeContributes),
                                Seq(RadioButton("false", "No", Some("form-field clear"), Some("label--inlineRadio-right")),
                                    RadioButton("true", "Yes: £", Some("form-field--inline"), Some("label--inlineRadio-right"))),
                                '_label -> "Did you pay anything towards the cost of the car?",
                                '_error -> carBenefitForm.error(employeeContributes)
            )
            @helpers.input(carBenefitForm(qualifiedEmployeeContribution),
                           '_divClass -> "form-field--inline",
                           '_inputClass -> "input--small",
                           '_error -> carBenefitForm.error(employeeContribution))
        </li>
        <li>@helpers.radioGroup(carBenefitForm(qualifiedEmployerContributes),
                                Seq(RadioButton("false", "No", Some("form-field"), Some("label--inlineRadio-right")),
                                    RadioButton("true", "Yes: £", Some("form-field--inline"), Some("label--inlineRadio-right"))),
                                '_label -> "Do you pay your employer for private use of the company car?",
                                '_error -> carBenefitForm.error(employerContributes)
            )
            @helpers.input(carBenefitForm(qualifiedEmployerContribution),
                           '_divClass -> "form-field--inline",
                           '_label -> "a year",
                           '_inputClass -> "input--xsmall",
                           '_labelClass -> "label--inlineRadio-right",
                           '_labelAfter -> true,
                           '_error -> carBenefitForm.error(employerContribution))
        </li>
    </ol>
</fieldset>
        <p><input type="submit" value="Next"/></p>
    }
}

