@(benefits: Seq[(microservice.paye.domain.Benefit, microservice.paye.domain.Employment)])

@import views.formatting.Dates._

@main(title = "Your tax home") {

    <h2>Current benefits-in-kind</h2>
    <table>

        <tr>
            <th align="left" width="30%">Employment reference</th>
            <th align="left" width="15%">Benefit Type</th>
            <th align="left" width="40%">Description</th>
            <th align="left" width="15%">Cash equivalent/Taxable amount</th>
        </tr>


        @for(benefit <- benefits) {

            <tr>
                <td>@benefit._2.taxDistrictNumber / @benefit._2.payeNumber<br>
                    From @formatDate(benefit._2.startDate) to @formatDate(benefit._2.endDate, "present")
                </td>
                <td>Type id: @benefit._1.benefitType</td>

                @if(benefit._1.cars.size > 0) {
                    <td>
                        @for(car <- benefit._1.cars) {
                            Engine size: @car.engineSize<br>
                            Fuel type: @car.fuelType<br>
                            Date car registered: @formatDate(car.dateCarRegistered)<br>
                        }
                    </td>
                } else {
                    <td></td>
                }
                <td align="right" >Â£ @benefit._1.grossAmountToString()</td>
            </tr>
            }

    </table>
}

