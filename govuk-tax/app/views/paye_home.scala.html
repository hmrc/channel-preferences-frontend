@(name: String, employments: Seq[microservice.paye.domain.Employment], taxCodes: Seq[microservice.paye.domain.TaxCode], hasBenefits: Boolean)

@import org.joda.time.format.DateTimeFormat

@defining(DateTimeFormat.forPattern("MMMM d, yyyy")) { dateFormatter =>

    @main(title = "Your tax home") {

        <h2>Welcome, @name</h2>
        <h2>Employments in current tax year</h2>
        <ul>
            @employments.map { employment =>
                <li>
                    @employment.taxDistrictNumber / @employment.payeNumber
                    (@dateFormatter.print(employment.startDate) to @if(employment.endDate) {@dateFormatter.print(employment.endDate.get)} else {present})
                </li>
            }
        </ul>

        @{taxCodes.size match {
            case 0 =>
            case 1 => {<h3>Your Tax Code</h3>}
            case _ => {<h3>Your Tax Codes</h3>}
        }}

        <ul>
            @for(tc <- taxCodes) {
                <li>@tc.taxCode</li>
            }
        </ul>

        @if(hasBenefits) {
            <a href="@routes.PayeController.benefits">Click here to see your benefits</a>
        }
    }
}